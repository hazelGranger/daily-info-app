{"version":3,"sources":["../server/index.js"],"names":["app","Koa","router","Router","use","enableTypes","jsonLimit","strict","onerror","err","ctx","throw","routes","allowedMethods","port","db_url","mongoose","connect","listen","console","log"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,IAAMA,GAAG,GAAG,IAAIC,YAAJ,EAAZ;AACA,IAAMC,MAAM,GAAG,IAAIC,kBAAJ,EAAf;AAEAH,GAAG,CAACI,GAAJ,CAAQ,yBAAR;AACAJ,GAAG,CAACI,GAAJ,CAAQ,yBAAR;AACAJ,GAAG,CAACI,GAAJ,CAAQ,4BAAW;AACjBC,EAAAA,WAAW,EAAE,CAAC,MAAD,CADI;AAEjBC,EAAAA,SAAS,EAAE,KAFM;AAGjBC,EAAAA,MAAM,EAAE,IAHS;AAIjBC,EAAAA,OAAO,EAAE,iBAACC,GAAD,EAAMC,GAAN,EAAc;AACrBA,IAAAA,GAAG,CAACC,KAAJ,CAAU,kBAAV;AACD;AANgB,CAAX,CAAR;AASA,oBAAOT,MAAP,E,CACA;AACA;AACA;AACA;;AACAF,GAAG,CAACI,GAAJ,CAAQF,MAAM,CAACU,MAAP,EAAR;AACAZ,GAAG,CAACI,GAAJ,CAAQF,MAAM,CAACW,cAAP,EAAR;AAEAb,GAAG,CAACI,GAAJ,CAAQ,wBAAO,SAAP,CAAR,E,CACA;AACA;AACA;;AACA,IAAMU,IAAI,GAAG,IAAb;AACA,IAAMC,MAAM,GAAG,sCAAf;;AAEAC,kBAASC,OAAT,CAAiBF,MAAjB;;AAEAf,GAAG,CAACkB,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;AACrBK,EAAAA,OAAO,CAACC,GAAR,6BAAiCN,IAAjC;AACD,CAFD","sourcesContent":["import \"@babel/polyfill\"\nimport Koa from 'koa'\nimport Router from 'koa-router'\nimport Logger from 'koa-logger'\nimport BodyParser from 'koa-bodyparser'\nimport Helmet from 'koa-helmet'\nimport respond from 'koa-respond'\nimport Static from 'koa-static'\nimport mongoose from 'mongoose'\nimport { routes } from './routes'\n\nimport fs  from 'fs'\n\nconst app = new Koa()\nconst router = new Router()\n\napp.use(Helmet())\napp.use(Logger())\napp.use(BodyParser({\n  enableTypes: ['json'],\n  jsonLimit: '5mb',\n  strict: true,\n  onerror: (err, ctx) => {\n    ctx.throw('body parse error')\n  }\n}))\n\nroutes(router)\n// app.use('/', async (ctx, next) => {\n//   ctx.response.type = 'html'\n//   ctx.response.body = await fs.readFile('../build/index.html', 'utf8')\n// })\napp.use(router.routes())\napp.use(router.allowedMethods())\n\napp.use(Static('./build'))\n// const main = ctx => {\n//   ctx.response.body = 'Hello World'\n// }\nconst port = 9093\nconst db_url = 'mongodb://localhost:27017/daily-info'\n\nmongoose.connect(db_url)\n\napp.listen(port, () => {\n  console.log(`Server started on ${port}`)\n})\n"],"file":"index.js"}